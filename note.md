# C++课程复习指南

## 一、基础语法

### 注释写法
```c++
// 单行注释

/*
多行注释
多行注释
多行注释
*/
```

### 常量定义
```c++
const 数据类型 常量名 = 值; // 常量内容不可更改
```

### 错误类型
- **PE错误**：格式错误
- **RE错误**：数组越界、栈溢出、除零错误等

---

## 二、输入输出操作

### 输入方法
#### 1. cin方法
```c++
cin >> n; // 注意传送方向(>>)
```

#### 2. scanf方法
```c++
scanf("输入格式", &a); // 变量前必须加&
```
| 格式 | 含义 |
|------|------|
| `%d` | 整数 |
| `%f` | 浮点数 |
| `%.数字f` | 指定小数位数的浮点数 |
| `%c` | 单个字符 |
| `%s` | 字符串 |

### 输出方法
#### 1. cout方法
```c++
cout << n; // 注意传送方向(<<)
```

#### 2. printf方法
```c++
printf("输出格式", 值);
```
| 格式 | 含义 |
|------|------|
| `%d` | 整数 |
| `%f` | 浮点数 |
| `%.数字f` | 指定小数位数的浮点数 |
| `%e` | 指数形式输出 |
| `%c` | 单个字符 |
| `%s` | 字符串 |
| `%-` | 左对齐 |
| `%+数字` | 右对齐指定宽度 |

### 转义字符
| 字符 | 含义 |
|------|------|
| `\n` | 换行 |
| `\t` | 水平制表符 |
| `\b` | 退格 |
| `\r` | 回车 |
| `\0` | 字符串结束符 |
| `\'` | 单引号 |
| `\"` | 双引号 |
| `\\` | 反斜杠 |

---

## 三、数据类型

### 1. 字符(串)
```c++
char n = '字';       // 字符(单引号)
char str[size];      // 字符数组
string n = "字符串"; // 字符串类型
```

#### 特殊输入
```c++
getline(cin, 变量名); // 按行读取(回车分隔)
```

#### 字符串函数
| 函数 | 作用 |
|------|------|
| `.size()`/`.length()` | 返回字符串长度 |
| `.empty()` | 判断字符串是否为空 |

### 2. 整型
| 类型 | 范围 |
|------|------|
| `short` | -32768 ~ 32767 |
| `int` | -2147483648 ~ 2147483647 |
| `long long` | -9223372036854775808 ~ 9223372036854775807 |

### 3. 浮点数
```c++
float a;       // 单精度
double a;      // 双精度
long double a; // 长双精度
```

### 4. 空类型
```c++
void func(); // 用于无返回值函数
```

### 5. 类型转换
#### 隐式转换
```c++
int i = 10;
float f = 3.14;
double d = i + f; // 自动类型转换
```

#### 显式转换
```c++
static_cast<目标类型>(表达式);
```

---

## 四、运算符

### 算术运算符
| 运算符 | 说明 | 示例 |
|--------|------|------|
| `/` | 除法 | `a = b / c` |
| `/=` | 除并赋值 | `a /= b` |
| `*` | 乘法 | `a = b * c` |
| `*=` | 乘并赋值 | `a *= b` |
| `%` | 取余 | `a = b % c` |
| `%=` | 取余并赋值 | `a %= b` |
| `+` | 加法 | `a = b + c` |
| `+=` | 加并赋值 | `a += b` |
| `++` | 自增 | `a++` |
| `-` | 减法 | `a = b - c` |
| `-=` | 减并赋值 | `a -= b` |
| `--` | 自减 | `a--` |

> **重要规则**：
> 1. 不能除以0
> 2. 不能对0取余
> 3. 整数除法需转换为浮点数：`1.0 * a / b`

---

## 五、数组

### 一维数组
```c++
数据类型 数组名[常量大小]; // 大小必须用常量
```

### 二维数组
#### 定义
```c++
数据类型 变量名[行数][列数];
数据类型 变量名[行数][列数] = {{数据}, {数据}, ...}; // 未初始化部分为0
数据类型 变量名[行数][列数] = {}; // 全部初始化为0
```

#### 遍历
```c++
// 全遍历
for (int i = 0; i < rows; i++) {
    for (int j = 0; j < cols; j++) {
        // 访问array[i][j]
    }
}

// 对角线遍历
for (int i = 0; i < n; i++) {
    for (int j = 0; j < n; j++) {
        if (i == j || i + j == n - 1) {
            // 处理对角线元素
        }
    }
}
```

---

## 六、二进制与位运算

### 1. 进制转换
#### 8421法（注意符号位不参与计算）
**十进制转二进制**：
1. 分解十进制数为2^n相加
2. 反向代入2^n倒排列表

**二进制转十进制**：
1. 列出2^n倒排列表
2. 二进制位为1的项相加

#### C++实现十进制转二进制
```c++
bitset<位数> 变量名(十进制数); // 位数需为2^n
```

### 2. 二进制格式
- 首位为符号位：0负1正
- 8位示例：`[符号位][000 1011]`

### 3. 位运算符
| 运算符 | 说明 | 特性 |
|--------|------|------|
| `&` | 按位与 | 两1得1 |
| `\|` | 按位或 | 两0得0 |
| `^` | 按位异或 | 相同0，不同1 |
| `~` | 按位取反 | 0变1，1变0 |
| `<<` | 左移 | 每移1位相当于×2 |
| `>>` | 右移 | 每移1位相当于÷2 |

> **优先级**：移位运算 > 按位运算

---

## 七、常用函数
需包含对应头文件或`<bits/stdc++.h>`

| 函数 | 数学符号 | 说明 |
|------|----------|------|
| `pow(a, b)` | $a^b$ | 幂运算 |
| `pow(a, 0.5)` | $\sqrt{a}$ | 平方根 |
| `abs(a)` | $\|a\|$ | 整型绝对值 |
| `fabs(a)` | $\|a\|$ | 浮点绝对值 |
| `ceil(a)` | $\lceil{a}\rceil$ | 向上取整 |
| `floor(a)` | $\lfloor{a}\rfloor$ | 向下取整 |
| `round(a)` | $\lfloor{a+0.5}\rfloor$ | 四舍五入 |
| `max(a, b)` | - | 取较大值 |
| `min(a, b)` | - | 取较小值 |
| `stoi(a)` | - | 字符串转整型 |

---

## 八、函数定义

### 基本结构
```c++
返回值类型 函数名(形参列表) {
    // 函数体
    return 返回值; // void函数无需return
}
```

### 组件说明
1. **返回值类型**：基本数据类型或void无返回值
2. **函数名**：遵循变量命名规则
3. **形参**：局部变量声明，逗号分隔
4. **函数体**：执行逻辑
5. **return**：返回结果（void函数可省略）

---

## 九、常用编程技巧

### 数值处理
```c++
n % 10;  // 取最后一位
n / 10;  // 移除最后一位
```

### 回文数检测
```c++
bool isPalindrome(int x) {
    if (x < 0) return false;
    int reversed = 0, original = x;
    while (x > 0) {
        reversed = reversed * 10 + x % 10;
        x /= 10;
    }
    return reversed == original;
}
```
### 质数检测
```c++
bool isPrime(int n) {
    // 处理特殊情况
    if (n <= 1) return false;   // 小于等于1的数不是质数
    if (n == 2) return true;    // 2是唯一的偶数质数
    if (n % 2 == 0) return false; // 排除其他偶数

    for (int i = 3; i <= n; i += 2) {
        if (n % i == 0) {
            return false;
        }
    }
    return true;
}
```
### 奇偶判断
```c++
if (n % 2 == 0) // 偶数判断
if (n % 2 != 0) // 奇数判断

// 简写形式
if (!(n % 2)) // 判断偶数
if (n % 2)    // 判断奇数
```
---

## 十、流程控制

### 1. if语句
```c++
if (条件1) {
    // 代码块1
} 
else if (条件2) {
    // 代码块2
} 
else {
    // 默认代码块
}
```

### 2. switch语句
```c++
switch (表达式) {
    case 值1:
        // 语句1
        break; // 必须break
    case 值2:
        // 语句2
        break;
    default:
        // 默认语句
}

```
### 3.for循环语句
```c++
for (初始化表达式; 循环条件; 更新表达式) {
    // 循环体
}

// 实例:输出从0到9的所有整数
for (int i = 0; i < 10; i++){
  printf("%d\n", i); 
}
```

### 4.while循环语句
```c++
while(循环条件){
  // 循环体
}
// 特点:先判断再循环
```

### 5. do while循环语句
```c++
do {
    // 循环体代码
} while (条件表达式);
// 特点:先运行1次再判断,循环体代码必定执行至少1次
```

### 6.goto语句
```c++
// 定义标签
标签名:
    // 标签位置

// 跳转语句,跳转到标签处继续执行
goto 标签名;
```

### 7.continue语句
```c++
for (int i = 1; i < 10; i++){
  continue; //位于循环语句内(for,while,do while),用于跳过当前循环迭代的剩余部分，直接进入下一次迭代
}
```

### 8.break语句
```c++
for (int i = 1; i < 10; i++){
  break //位于循环语句内(for,while,do while),用于结束循环语句循环
}

// break语句还用于退出swich语句
switch (表达式) {
    case 值1:
        // 语句1
        break; // 必须break
    case 值2:
        // 语句2
        break;
    default:
        // 默认语句
}

```
---

## 课件资源
1. [二维数组的应用(一)](./课件/二维数组的应用(一).pdf)
2. [二维数组(二)](./课件/二维数组(二).pdf)
3. [数学专题(二)](./课件/数学专题(二).pdf)